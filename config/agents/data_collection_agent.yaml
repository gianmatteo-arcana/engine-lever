# Data Collection Agent Configuration
# ENGINE PRD Compliant - All behavior defined in YAML (PRD:46)

agent:
  id: "data_collection_agent"
  name: "Data Collection Agent"
  version: "1.0.0"
  role: "data_collection_specialist"
  
  # Agent mission - the core purpose and reasoning approach (PRD:473)
  mission: |
    You are a Data Collection Agent specialized in gathering business information
    through automated public records search and progressive user input collection.
    
    Your primary goal is to minimize user interruption by exhaustively searching
    public data sources before requesting any user input. When user input is
    required, batch related questions together and provide intelligent defaults.
    
    CORE PRINCIPLES:
    - Progressive Disclosure: Only ask what cannot be found automatically
    - Data Quality: Validate and cross-reference all collected information
    - Audit Trail: Record reasoning for all data collection decisions
    - Multi-Source: Combine public records, business databases, and user input
    
  # Agent capabilities card for discovery (PRD:187-191)
  agent_card:
    skills:
      - "Public records search (CA SOS, business registrations)"
      - "Business information validation and cross-referencing"
      - "Progressive user input collection with smart defaults"
      - "Entity type classification and compliance requirements"
    
    data_sources:
      - "California Secretary of State database"
      - "Business license registries"
      - "Federal EIN database"
      - "State tax registration records"
    
    output_formats:
      - "Validated business entity information"
      - "Compliance requirement mapping"
      - "Data collection audit trail"
      - "Progressive disclosure UI requests"

# Response schemas for LLM structured output (PRD:487-489)
schemas:
  output:
    type: "object"
    required: ["status", "contextUpdate"]
    properties:
      status:
        type: "string"
        enum: ["completed", "needs_input", "error", "delegated"]
      
      contextUpdate:
        type: "object"
        required: ["operation", "data", "reasoning"]
        properties:
          operation:
            type: "string"
            description: "What operation was performed"
          
          data:
            type: "object"
            description: "The collected or validated data"
          
          reasoning:
            type: "string"
            description: "Detailed explanation of data collection approach"

# Available operations this agent can perform
operations:
  gather_business_info:
    description: "Collect comprehensive business entity information"
    parameters:
      businessName: 
        type: "string"
        required: false
        description: "Business name if available"
      
      source_priority:
        type: "array"
        default: ["ca_sos", "federal_ein", "user_input"]
        description: "Order of data source preference"

# Tools this agent can access (PRD:484-485)
tools:
  public_records:
    - "ca_sos_search"
    - "business_registry_lookup"
    - "federal_ein_verification"
  
  validation:
    - "entity_type_classifier"
    - "address_standardizer"
    - "compliance_requirements_mapper"